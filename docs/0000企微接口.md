企微后台已经做好的配置
SuiteID	ww917724cb573d8629
应用类型	普通应用
Secret	-zoq8gkEOXWgd2aASZyg1N4FzHOu1S-zNWlGs6MLN3E
分类	客户关系
目标行业	通用行业
编辑
应用权限
应用权限	通讯录基本信息只读、组织架构信息、企业客户权限、成员敏感信息
编辑
使用配置
应用主页	https://zjemail.cn
桌面端独立主页	https://zjemail.cn/wecom/workspace
可信域名	zjemail.cn
安装完成回调域名	zjemail.cn
业务设置URL	https://zjemail.cn/wecom/settings
编辑
回调配置
数据回调URL	https://zjemail.cn/api/v1/wecom/callback
指令回调URL	https://zjemail.cn/api/v1/wecom/command


企业微信接口如下：
事件格式
最后更新：2024/06/03
添加企业客户事件
授权企业中配置了客户联系功能的成员添加外部联系人时，企业微信服务器会向应用的“指令回调URL”推送该事件

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[add_external_contact]]></ChangeType>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
	<State><![CDATA[teststate]]></State>
	<WelcomeCode><![CDATA[WELCOMECODE]]></WelcomeCode>
</xml>
参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_contact
TimeStamp	时间戳
ChangeType	此时固定为add_external_contact
UserID	企业服务人员的UserID
ExternalUserID	外部联系人的userid，注意不是企业成员的账号
State	添加此用户的「联系我」方式配置的state参数，可用于识别添加此用户的渠道
WelcomeCode	欢迎语code，可用于发送欢迎语
第三方应用可以根据ExternalUserID调用“获取客户详情”读取详情。
注意:如果外部联系人和成员已经开始聊天或已通过「外部联系人免验证添加成员事件」得到的welcomecode发送欢迎语，则不会继续返回welcomecode。成员添加其他企业的企业微信联系人（商务伙伴）时，将自动递名片打招呼，不再回调welcomecode。
编辑企业客户事件
授权企业中配置了客户联系功能的成员编辑外部联系人的备注信息(不包括备注手机号码)或企业标签时，企业微信服务器会向应用的“指令回调URL”推送该事件，但仅修改外部联系人备注手机号时不会触发回调。

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[edit_external_contact]]></ChangeType>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
</xml>
参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_contact
TimeStamp	时间戳
ChangeType	此时固定为edit_external_contact
UserID	企业服务人员的UserID
ExternalUserID	外部联系人的userid，注意不是企业成员的账号
 

外部联系人免验证添加成员事件
外部联系人添加了配置了客户联系功能且开启了免验证的成员时（此时成员尚未确认添加对方为好友），企业微信服务器会向应用的“指令回调URL”推送该事件

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[add_half_external_contact]]></ChangeType>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
	<State><![CDATA[teststate]]></State>
	<WelcomeCode><![CDATA[WELCOMECODE]]></WelcomeCode>
</xml>
参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_contact
TimeStamp	时间戳
ChangeType	此时固定为add_half_external_contact
UserID	企业服务人员的UserID
ExternalUserID	外部联系人的userid，注意不是企业成员的账号
State	添加此用户的「联系我」方式配置的state参数，可用于识别添加此用户的渠道
WelcomeCode	欢迎语code，可用于发送欢迎语
第三方应用可以根据ExternalUserID调用“获取客户详情”读取详情。
注意:如果外部联系人和成员已经开始聊天或已通过「外部联系人免验证添加成员事件」得到的welcomecode发送欢迎语，则不会继续返回welcomecode。企业成员添加其他企业的企业微信联系人（商务伙伴）时，将自动递名片打招呼，不再回调welcomecode。
删除企业客户事件
授权企业中配置了客户联系功能的成员删除外部联系人时，企业微信服务器会向应用的“指令回调URL”推送该事件

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[del_external_contact]]></ChangeType>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
	<Source><![CDATA[DELETE_BY_TRANSFER]]></Source>
</xml>
参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_contact
TimeStamp	时间戳
ChangeType	此时固定为del_external_contact
UserID	企业服务人员的UserID
ExternalUserID	外部联系人的userid，注意不是企业成员的账号
Source	删除客户的操作来源，DELETE_BY_TRANSFER表示此客户是因在职继承自动被转接成员删除
 

删除跟进成员事件
授权企业中配置了客户联系功能的成员被外部联系人删除时，企业微信服务器会向应用的“指令回调URL”推送该事件

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[del_follow_user]]></ChangeType>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
</xml>
参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_contact
TimeStamp	时间戳
ChangeType	此时固定为del_follow_user
UserID	企业服务人员的UserID
ExternalUserID	外部联系人的userid，注意不是企业成员的账号
 

客户接替失败事件
企业将客户分配给新的成员接替后，当客户添加失败时，企业微信服务器会向应用的“指令回调URL”推送该事件

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_contact]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChangeType><![CDATA[transfer_fail]]></ChangeType>
	<FailReason><![CDATA[customer_refused]]></FailReason>
	<UserID><![CDATA[zhangsan]]></UserID>
	<ExternalUserID><![CDATA[woAJ2GCAAAXtWyujaWJHDDGi0mACH71w]]></ExternalUserID>
</xml>
参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_contact
TimeStamp	时间戳
ChangeType	此时固定为transfer_fail
FailReason	接替失败的原因, customer_refused-客户拒绝， customer_limit_exceed-接替成员的客户数达到上限
UserID	企业服务人员的UserID
ExternalUserID	外部联系人的userid，注意不是企业成员的账号
 

客户群创建事件
有新增客户群时，回调该事件。收到该事件后，企业可以调用获取客户群详情接口获取客户群详情。

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_chat]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChatId><![CDATA[CHAT_ID]]></ChatId>
	<ChangeType><![CDATA[create]]></ChangeType>
</xml>
 

参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_chat
TimeStamp	时间戳
ChatId	群ID
ChangeType	此时固定为create
客户群变更事件
客户群被修改后（群名变更，群成员增加或移除，群公告变更），回调该事件。收到该事件后，企业需要再调用获取客户群详情接口，以获取最新的群详情。

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_chat]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChatId><![CDATA[CHAT_ID]]></ChatId>
	<ChangeType><![CDATA[update]]></ChangeType>
	<UpdateDetail><![CDATA[add_member]]></UpdateDetail>
    <JoinScene>1</JoinScene>
    <QuitScene>0</QuitScene>
    <MemChangeCnt>10</MemChangeCnt>
    <MemChangeList>
		<Item>Jack</Item>
		<Item>Rose</Item>
	</MemChangeList>
	<LastMemVer>9c3f97c2ada667dfb5f6d03308d963e1</LastMemVer>
	<CurMemVer>71217227bbd112ecfe3a49c482195cb4</CurMemVer>
</xml>
 

参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_chat
TimeStamp	时间戳
ChatId	群ID
ChangeType	此时固定为update
UpdateDetail	变更详情。目前有以下几种：
add_member : 成员入群
del_member : 成员退群
change_owner : 群主变更
change_name : 群名变更
change_notice : 群公告变更
JoinScene	当是成员入群时有值。表示成员的入群方式
0 - 由成员邀请入群（包括直接邀请入群和通过邀请链接入群）
3 - 通过扫描群二维码入群
QuitScene	当是成员退群时有值。表示成员的退群方式
0 - 自己退群
1 - 群主/群管理员移出
MemChangeCnt	当是成员入群或退群时有值。表示成员变更数量
MemChangeList	当是成员入群或退群时有值。变更的成员列表
LastMemVer	当是成员入群或退群时有值。 变更前的群成员版本号
CurMemVer	当是成员入群或退群时有值。变更后的群成员版本号

关于客户群变更事件中，群成员版本号的使用技巧
客户群变更较为频繁，开发者希望直接通过回调事件来更新群成员，因此事件新增变更成员列表信息。而变更事件的回调过程并不可靠（接收方可能丢失或乱序），为了让开发者能准确判断本次接收到的客户群变更事件是否可信任，变更事件中新增两个版本号：变更前的群成员版本号、变更后的群成员版本号。开发者可以存储每个群的最新版本号，当接收到客户群变更事件后，如果是成员入群或成员退群事件，则对比事件中的变更前版本号与自己存储的最新版本号是否一致，如果一致则说明本次事件可信任，并更新最新版本号；如果不一致，则说明本次收到的事件不可靠，可以通过拉客户群详情来获取最新信息和最新版本号。以此在不需要增加调用量的前提下，实现数据一致性。


 

客户群解散事件
当客户群被群主解散后，回调该事件。

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_chat]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<ChatId><![CDATA[CHAT_ID]]></ChatId>
	<ChangeType><![CDATA[dismiss]]></ChangeType>
</xml>
 

参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_chat
TimeStamp	时间戳
ChatId	群ID
ChangeType	此时固定为dismiss
企业客户标签创建事件
企业/管理员创建客户标签/标签组时，企业微信服务器将向具有企业客户权限的第三方应用指令回调URL回调此事件。收到该事件后，第三方服务商需要调用获取企业标签库来获取标签/标签组的详细信息。

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_tag]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<Id><![CDATA[TAG_ID]]></Id>
	<TagType><![CDATA[tag]]></TagType>
	<ChangeType><![CDATA[create]]></ChangeType>
</xml>
参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_tag
TimeStamp	unix时间戳
Id	标签或标签组的ID
TagType	创建标签时，此项为tag，创建标签组时，此项为tag_group
ChangeType	此时固定为create
企业客户标签变更事件
当企业客户标签/标签组被修改时，企业微信服务器将向具有企业客户权限的第三方应用指令回调URL回调此事件。收到该事件后，第三方服务商需要调用获取企业标签库来获取标签/标签组的详细信息。

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_tag]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<Id><![CDATA[TAG_ID]]></Id>
	<TagType><![CDATA[tag]]></TagType>
	<ChangeType><![CDATA[update]]></ChangeType>
</xml>
参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_tag
TimeStamp	unix时间戳
Id	标签或标签组的ID
TagType	变更标签时，此项为tag，变更标签组时，此项为tag_group
ChangeType	此时固定为update
企业客户标签删除事件
当企业客户标签/标签组被删除改时，企业微信服务器将向具有企业客户权限的第三方应用指令回调URL回调此事件。删除标签组时，该标签组下的所有标签将被同时删除，但不会进行回调。

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_tag]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<Id><![CDATA[TAG_ID]]></Id>
	<TagType><![CDATA[tag]]></TagType>
	<ChangeType><![CDATA[delete]]></ChangeType>
</xml>
参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_tag
TimeStamp	unix时间戳
Id	标签或标签组的ID
TagType	删除标签时，此项为tag，删除标签组时，此项为tag_group
ChangeType	此时固定为delete
 

企业客户标签重排事件
当企业管理员在终端/管理端调整标签顺序时，可能导致标签顺序整体调整重排，引起大部分标签的order值发生变化，此时会回调此事件，收到此事件后企业应尽快全量同步标签的order值，防止后续调用接口排序出现非预期结果。

请求示例：

<xml>
	<SuiteId><![CDATA[ww4asffe99e54c0f4c]]></SuiteId>
	<AuthCorpId><![CDATA[wxf8b4f85f3a794e77]]></AuthCorpId>
	<InfoType><![CDATA[change_external_tag]]></InfoType>
	<TimeStamp>1403610513</TimeStamp>
	<Id><![CDATA[TAG_ID]]></Id>
	<ChangeType><![CDATA[shuffle]]></ChangeType>
</xml>
参数说明：

参数	说明
SuiteId	第三方应用ID
AuthCorpId	授权企业的CorpID
InfoType	固定为change_external_tag
TimeStamp	unix时间戳
Id	标签组id，表示只有此标签组内的标签发生了重排，如果为空，则表示全部标签组顺序都发生了变化
ChangeType	此时固定为shuffle


应用只能获取可见范围内的成员信息，且每种应用获取的字段有所不同，在返回结果说明中会逐个说明。企业通讯录安全特别重要，企业微信将持续升级加固通讯录接口的安全机制，以下是关键的变更点：

从2022年6月20号20点开始，除通讯录同步以外的基础应用（如客户联系、微信客服、会话存档、日程等），以及新创建的自建应用与代开发应用，调用该接口时，不再返回以下字段：头像、性别、手机、邮箱、企业邮箱、员工个人二维码、地址，应用需要通过oauth2手工授权的方式获取管理员与员工本人授权的字段。

【重要】从2022年8月15日10点开始，“企业管理后台 - 管理工具 - 通讯录同步”的新增IP将不能再调用此接口，企业可通过「获取成员ID列表」和「获取部门ID列表」接口获取userid和部门ID列表。查看调整详情。
 

请求方式：GET（HTTPS）
请求地址：https://qyapi.weixin.qq.com/cgi-bin/user/get?access_token=ACCESS_TOKEN&userid=USERID

参数说明：

参数	必须	说明
access_token	是	调用接口凭证
userid	是	成员UserID。对应管理端的账号，企业内必须唯一。不区分大小写，长度为1~64个字节
 

权限说明：

应用须拥有指定成员的查看权限。

返回结果：

{
	"errcode": 0,
	"errmsg": "ok",
	"userid": "zhangsan",
	"name": "张三",
	"department": [1, 2],
	"order": [1, 2],
	"position": "后台工程师",
	"mobile": "13800000000",
	"gender": "1",
	"email": "zhangsan@qq.com",
	"biz_mail":"zhangsan@tencent.com",
	"is_leader_in_dept": [1, 0],
	"direct_leader":["lisi"],
	"avatar": "http://wx.qlogo.cn/mmopen/ajNVdqHZLLA3WJ6DSZUfiakYe37PKnQhBIeOQBO4czqrnZDS79FH5Wm5m4X69TBicnHFlhiafvDwklOpZeXYQQ2icg/0",
	"thumb_avatar": "http://wx.qlogo.cn/mmopen/ajNVdqHZLLA3WJ6DSZUfiakYe37PKnQhBIeOQBO4czqrnZDS79FH5Wm5m4X69TBicnHFlhiafvDwklOpZeXYQQ2icg/100",
	"telephone": "020-123456",
	"alias": "jackzhang",
	"address": "广州市海珠区新港中路",
	"open_userid": "xxxxxx",
	"main_department": 1,
	"extattr": {
		"attrs": [
			{
				"type": 0,
				"name": "文本名称",
				"text": {
					"value": "文本"
				}
			},
			{
				"type": 1,
				"name": "网页名称",
				"web": {
					"url": "http://www.test.com",
					"title": "标题"
				}
			}
		]
	},
	"status": 1,
	"qr_code": "https://open.work.weixin.qq.com/wwopen/userQRCode?vcode=xxx",
	"external_position": "产品经理",
	"external_profile": {
		"external_corp_name": "企业简称",
		"wechat_channels": {
			"nickname": "视频号名称",
			"status": 1
		},
		"external_attr": [{
				"type": 0,
				"name": "文本名称",
				"text": {
					"value": "文本"
				}
			},
			{
				"type": 1,
				"name": "网页名称",
				"web": {
					"url": "http://www.test.com",
					"title": "标题"
				}
			},
			{
				"type": 2,
				"name": "测试app",
				"miniprogram": {
					"appid": "wx8bd80126147dFAKE",
					"pagepath": "/index",
					"title": "my miniprogram"
				}
			}
		]
	}
}




userid	成员UserID。对应管理端的账号，企业内必须唯一。不区分大小写，长度为1~64个字节；第三方应用返回的值为open_userid
name	成员名称；第三方不可获取，调用时返回userid以代替name；代开发自建应用需要管理员授权才返回；对于非第三方创建的成员，第三方通讯录应用也不可获取；未返回name的情况需要通过通讯录展示组件来展示名字
mobile	手机号码，代开发自建应用需要管理员授权且成员oauth2授权获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
department	成员所属部门id列表，仅返回该应用有查看权限的部门id；成员授权模式下，固定返回根部门id，即固定为1。对授权了“组织架构信息”权限的第三方应用或授权了“组织架构信息”-“部门及父部门ID、部门负责人”权限的代开发应用，返回成员所属的全部部门id
order	部门内的排序值，默认为0。数量必须和department一致，数值越大排序越前面。值范围是[0, 2^32)。成员授权模式下不返回该字段
position	职务信息；代开发自建应用需要管理员授权才返回；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
gender	性别。0表示未定义，1表示男性，2表示女性。代开发自建应用需要管理员授权且成员oauth2授权获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段。注：不可获取指返回值0
email	邮箱，代开发自建应用需要管理员授权且成员oauth2授权获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
biz_mail	企业邮箱，代开发自建应用需要管理员授权且成员oauth2授权获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
is_leader_in_dept	表示在所在的部门内是否为部门负责人，数量与department一致；第三方通讯录应用或者授权了“组织架构信息-应用可获取企业的部门组织架构信息-部门负责人”权限的第三方应用和代开发应用可获取；对于非第三方创建的成员，第三方通讯录应用不可获取；上游企业不可获取下游企业成员该字段
direct_leader	直属上级UserID，返回在应用可见范围内的直属上级列表，最多有1个直属上级；第三方通讯录应用或者授权了“组织架构信息-应用可获取可见范围内成员组织架构信息-直属上级”权限的第三方应用和代开发应用可获取；对于非第三方创建的成员，第三方通讯录应用不可获取；上游企业不可获取下游企业成员该字段
avatar	头像url。 代开发自建应用需要管理员授权且成员oauth2授权获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
thumb_avatar	头像缩略图url。第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
telephone	座机。代开发自建应用需要管理员授权才返回；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
alias	别名；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
extattr	扩展属性，字段详见成员扩展属性。代开发自建应用需要管理员授权才返回；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
status	激活状态: 1=已激活，2=已禁用，4=未激活，5=退出企业。
已激活代表已激活企业微信或已关注微信插件（原企业号）。未激活代表既未激活企业微信又未关注微信插件（原企业号）。
qr_code	员工个人二维码，扫描可添加为外部联系人(注意返回的是一个url，可在浏览器上打开该url以展示二维码)；代开发自建应用需要管理员授权且成员oauth2授权获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
external_profile	成员对外属性，字段详情见对外属性；代开发自建应用需要管理员授权才返回；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
external_position	对外职务，如果设置了该值，则以此作为对外展示的职务，否则以position来展示。代开发自建应用需要管理员授权才返回；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
address	地址。代开发自建应用需要管理员授权且成员oauth2授权获取；第三方仅通讯录应用可获取；对于非第三方创建的成员，第三方通讯录应用也不可获取；上游企业不可获取下游企业成员该字段
open_userid	全局唯一。对于同一个服务商，不同应用获取到企业内同一个成员的open_userid是相同的，最多64个字节。仅第三方应用可获取。
main_department	主部门，仅当应用对主部门有查看权限时返回。
 

应用获取敏感字段的说明
为保护企业数据与用户隐私，从2022年6月20号20点开始，新创建的自建应用与代开发应用，调用该接口时，不再返回以下字段：头像、性别、手机、邮箱、企业邮箱、员工个人二维码、地址，应用需要通过oauth2手工授权的方式获取管理员与员工本人授权的字段。


-----------usrid和open_userid之间的转换

	成员UserID。对应管理端的账号，企业内必须唯一。不区分大小写，长度为1~64个字节；第三方应用返回的值为open_userid

userid的转换
最后更新：2023/03/30
将企业主体下的明文userid转换为服务商主体下的密文userid。

请求方式：POST（HTTPS）
请求地址：https://qyapi.weixin.qq.com/cgi-bin/batch/userid_to_openuserid?access_token=ACCESS_TOKEN

请求参数：

{
  "userid_list":["aaa", "bbb"]
}
参数说明：

参数	必须	说明
access_token	是	代开发自建应用或第三方应用的接口凭证，服务商可通过“获取企业access_token
userid_list	是	获取到的成员ID列表，最多不超过1000个
权限说明：

仅代开发应用或第三方应用可调用
成员需要在应用的可见范围内
请确保传入userid的正确性，若出错的次数较多，会导致1天不可调用，（具体限制阈值由授权企业的员工规模决定）。
返回结果：

{
    "errcode": 0,
    "errmsg": "",
    "open_userid_list": [
        {
            "userid": "aaa",
            "open_userid": "xxxxx"
        }
    ],
    "invalid_userid_list":["bbb"]
}
参数说明：

参数	说明
errcode	返回码
errmsg	对返回码的文本描述内容
open_userid_list	该服务商主体下的密文userid
open_userid_list.userid	转换成功的userid
open_userid_list.open_userid	转换成功的userid对应的服务商主体下的密文userid